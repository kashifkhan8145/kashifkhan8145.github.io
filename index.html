<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Kashif Khan — MSc in ECE · Machine Learning, Deep Learning</title>
  <meta name="description" content="Kashif Khan — research portfolio in Machine Learning & RF/Microwave Engineering." />
  <meta property="og:title" content="Kashif Khan — Machine Learning × RF" />
  <meta property="og:description" content="Research portfolio: GaN HEMT modelling, microstrip filter design, and ML optimization." />
  <meta property="og:type" content="website" />
  <meta property="og:image" content="/Kashif_Khan.jpg" />
  <meta name="theme-color" content="#0ea5e9" />

  <!-- Favicons (put these files in the repo root) -->
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="icon" href="/favicon.ico">
  <link rel="manifest" href="/site.webmanifest">
  <meta name="apple-mobile-web-app-capable" content="yes">

  <!-- Tailwind (no build step) -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          fontFamily: {
            display: ['Inter', 'ui-sans-serif', 'system-ui', 'Segoe UI', 'Roboto', 'Helvetica Neue', 'Arial'],
            serif: ['EB Garamond', 'ui-serif', 'Georgia', 'Cambria'],
          },
          colors: {
            brand: {50:'#eff6ff',100:'#dbeafe',200:'#bfdbfe',300:'#93c5fd',400:'#60a5fa',500:'#3b82f6',600:'#2563eb',700:'#1d4ed8',800:'#1e40af',900:'#1e3a8a'},
            accent: {500:'#06b6d4',600:'#0891b2',700:'#0e7490'}
          },
          boxShadow: { glow: '0 10px 30px -10px rgba(59,130,246,.45)'},
          keyframes: {
            float: { '0%,100%': { transform: 'translateY(0px)' }, '50%': { transform: 'translateY(-10px)' } },
            reveal: { from: { opacity: 0, transform: 'translateY(14px)' }, to: { opacity: 1, transform: 'translateY(0)' } }
          },
          animation: { float: 'float 6s ease-in-out infinite' }
        }
      }
    }
  </script>

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=EB+Garamond:wght@500;600&family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

  <style>
    ::selection { background: rgba(59,130,246,.25); }
    :target { scroll-margin-top: 96px; }
    /* reveal-on-scroll helper */
    .reveal { opacity: 0; transform: translateY(14px); transition: opacity .6s ease, transform .6s ease; }
    .reveal.show { opacity: 1; transform: translateY(0); }
  </style>

  <!-- JSON-LD -->
  <script type="application/ld+json">
  {"@context":"https://schema.org","@type":"Person","name":"Kashif Khan","jobTitle":"Research Assistant","affiliation":{"@type":"Organization","name":"Nazarbayev University"},"email":"mailto:kashif.khan@nu.edu.kz","url":"https://kashifkhan8145.github.io","sameAs":["https://scholar.google.com/citations?user=e0CeRSUAAAAJ","https://www.linkedin.com/in/kashifkhan8145","https://github.com/kashifkhan8145"]}
  </script>
</head>

<body class="bg-white text-slate-800 dark:bg-slate-950 dark:text-slate-200 font-display">
  <!-- Header / Nav -->
  <header class="sticky top-0 z-50 backdrop-blur bg-white/80 dark:bg-slate-950/70 border-b border-slate-200/60 dark:border-slate-800">
    <div class="max-w-6xl mx-auto px-4 py-3 flex items-center gap-4">
      <!-- Brand -->
      <a href="#home" class="text-xl font-semibold tracking-tight whitespace-nowrap shrink-0 mr-2">Kashif&nbsp;Khan</a>

      <div class="flex-1"></div>

      <!-- Mobile menu button -->
      <button id="menuBtn" class="md:hidden p-2 rounded-xl border border-slate-300/80 dark:border-slate-700" aria-label="Open menu">
        <svg class="h-5 w-5" viewBox="0 0 24 24" fill="currentColor"><path d="M4 6h16M4 12h16M4 18h16"/></svg>
      </button>

      <!-- CV + theme -->
      <a id="cvBtn" href="/Kashif_Khan_CV.pdf" download
         class="hidden sm:inline-flex items-center gap-2 px-3 py-1.5 rounded-xl border border-slate-300/80 dark:border-slate-700 text-sm hover:bg-slate-50 dark:hover:bg-slate-900">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M4 16v2a2 2 0 002 2h12a2 2 0 002-2v-2M7 10l5 5m0 0l5-5m-5 5V4"/></svg>
        CV
      </a>
      <button id="themeToggle" class="p-2 rounded-xl border border-slate-300/80 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-900" aria-label="Toggle dark mode">
        <svg id="sun" class="h-5 w-5 hidden" viewBox="0 0 20 20" fill="currentColor"><path d="M10 3a1 1 0 011 1v1a1 1 0 11-2 0V4a1 1 0 011-1zM10 14a4 4 0 100-8 4 4 0 000 8zM4 9a1 1 0 100 2H3a1 1 0 100-2h1zm13 0a1 1 0 100 2h-1a1 1 0 100-2h1zM5.636 5.636a1 1 0 011.414 0l.707.707a1 1 0 01-1.414 1.414l-.707-.707a1 1 0 010-1.414zm8.314 8.314a1 1 0 011.414 0l.707.707a1 1 0 01-1.414 1.414l-.707-.707a1 1 0 010-1.414zM5.636 14.364a1 1 0 010 1.414l-.707.707A1 1 0 013.515 15.07l.707-.707a1 1 0 011.414 0zm8.314-8.314a1 1 0 010-1.414l.707-.707A1 1 0 0115.9 4.93l-.707.707a1 1 0 01-1.414 0z"/></svg>
        <svg id="moon" class="h-5 w-5" viewBox="0 0 24 24" fill="currentColor"><path d="M21.752 15.002A9 9 0 1111 2.248a7 7 0 1010.752 12.754z"/></svg>
      </button>
    </div>

    <!-- Desktop nav -->
    <nav class="hidden md:flex max-w-6xl mx-auto px-4 pb-3 items-center gap-6 text-sm">
      <a href="#about" class="hover:text-brand-600">About</a>
      <a href="#projects" class="hover:text-brand-600">Projects</a>
      <a href="#publications" class="hover:text-brand-600">Publications</a>
      <a href="#experience" class="hover:text-brand-600">Experience</a>
      <a href="#education" class="hover:text-brand-600">Education</a>
      <a href="#skills" class="hover:text-brand-600">Skills</a>
      <a href="#awards" class="hover:text-brand-600">Awards</a>
      <a href="#courses" class="hover:text-brand-600">Courses</a>
      <a href="#languages" class="hover:text-brand-600">Languages</a>
      <a href="#certs" class="hover:text-brand-600">Certificates</a>
      <a href="#contact" class="hover:text-brand-600">Contact</a>
    </nav>

    <!-- Mobile menu -->
    <div id="mobileNav" class="md:hidden hidden border-t border-slate-200/60 dark:border-slate-800">
      <div class="max-w-6xl mx-auto px-4 py-3 grid gap-2 text-sm">
        <a href="#about" class="py-2">About</a>
        <a href="#projects" class="py-2">Projects</a>
        <a href="#publications" class="py-2">Publications</a>
        <a href="#experience" class="py-2">Experience</a>
        <a href="#education" class="py-2">Education</a>
        <a href="#skills" class="py-2">Skills</a>
        <a href="#awards" class="py-2">Awards</a>
        <a href="#courses" class="py-2">Courses</a>
        <a href="#languages" class="py-2">Languages</a>
        <a href="#certs" class="py-2">Certificates</a>
        <a href="#contact" class="py-2">Contact</a>
      </div>
    </div>
  </header>

  <!-- Hero -->
  <section id="home" class="relative overflow-hidden">
    <!-- Gradient wash -->
    <div class="absolute inset-0 -z-10 bg-gradient-to-br from-brand-100 via-white to-accent-500/20 dark:from-slate-900 dark:via-slate-950 dark:to-slate-900"></div>

    <!-- Floating orbs -->
    <div class="pointer-events-none absolute inset-0 -z-10">
      <div class="absolute -top-16 -left-10 w-64 h-64 bg-brand-400/20 blur-3xl rounded-full animate-float"></div>
      <div class="absolute top-20 -right-10 w-72 h-72 bg-accent-500/20 blur-[60px] rounded-full animate-float" style="animation-delay:.8s"></div>
    </div>

    <!-- Constellation canvas -->
    <canvas id="constellation" class="absolute inset-0 -z-10 pointer-events-none"></canvas>

    <div class="max-w-6xl mx-auto px-4 pt-16 pb-12 grid md:grid-cols-[220px,1fr] gap-8 items-center">
      <div class="flex md:block justify-center">
        <img src="/Kashif_Khan.jpg" alt="Portrait of Kashif Khan" class="w-36 h-36 sm:w-44 sm:h-44 rounded-3xl object-cover ring-2 ring-white shadow-glow dark:ring-slate-800">
      </div>
      <div>
        <h1 class="mt-3 text-3xl sm:text-5xl font-semibold tracking-tight">Kashif Khan</h1>
        <p class="mt-3 text-slate-700 dark:text-slate-300 max-w-2xl">
          Research Assistant with an MSc in Electrical &amp; Computer Engineering from Nazarbayev University (THE ranking 400), Kazakhstan.
          I focus on <strong>applied machine learning</strong>: turning models into reliable, interpretable, and deployment-ready systems.
        </p>

        <div class="mt-5 grid grid-cols-2 gap-3 sm:flex sm:flex-wrap sm:gap-4">
          <a href="mailto:kashif.khan@nu.edu.kz"
             class="w-full sm:w-auto justify-center inline-flex items-center min-h-[44px] px-4 py-2 rounded-xl bg-brand-600 text-white hover:bg-brand-700">Email</a>
          <a href="https://scholar.google.com/citations?user=e0CeRSUAAAAJ" target="_blank" rel="noopener"
             class="w-full sm:w-auto justify-center inline-flex items-center min-h-[44px] px-4 py-2 rounded-xl border border-slate-300/80 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-900">Google Scholar</a>
          <a href="https://www.linkedin.com/in/kashifkhan8145" target="_blank" rel="noopener"
             class="w-full sm:w-auto justify-center inline-flex items-center min-h-[44px] px-4 py-2 rounded-xl border border-slate-300/80 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-900">LinkedIn</a>
          <a href="https://github.com/kashifkhan8145" target="_blank" rel="noopener"
             class="w-full sm:w-auto justify-center inline-flex items-center min-h-[44px] px-4 py-2 rounded-xl border border-slate-300/80 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-900">GitHub</a>
          <a href="/Kashif_Khan_CV.pdf" download
             class="w-full sm:w-auto justify-center inline-flex items-center min-h-[44px] px-4 py-2 rounded-xl bg-accent-500 text-white hover:bg-accent-600">CV (PDF)</a>
          <a href="mailto:kashif.khan@nu.edu.kz?subject=PhD%20opportunity%20—%20Kashif%20Khan&body=Hi%20Kashif,"
             class="w-full sm:w-auto justify-center inline-flex items-center min-h-[44px] px-4 py-2 rounded-xl border border-slate-300/80 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-900">Looking for a PhD Position</a>
        </div>
      </div>
    </div>
  </section>

  <!-- Stats counters -->
  <section id="stats" class="reveal border-t border-slate-200/60 dark:border-slate-800">
    <div class="max-w-6xl mx-auto px-4 py-8 grid grid-cols-2 sm:grid-cols-3 gap-6">
      <div class="p-5 rounded-2xl ring-1 ring-slate-200 dark:ring-slate-800 bg-white/80 dark:bg-slate-900/50 text-center">
        <div class="text-3xl font-semibold"><span class="count" data-to="7">0</span>+</div>
        <div class="text-sm text-slate-500 mt-1">Publications</div>
      </div>
      <div class="p-5 rounded-2xl ring-1 ring-slate-200 dark:ring-slate-800 bg-white/80 dark:bg-slate-900/50 text-center">
        <div class="text-3xl font-semibold"><span class="count" data-to="4">0</span>+</div>
        <div class="text-sm text-slate-500 mt-1">Selected Projects</div>
      </div>
      <div class="p-5 rounded-2xl ring-1 ring-slate-200 dark:ring-slate-800 bg-white/80 dark:bg-slate-900/50 text-center col-span-2 sm:col-span-1">
        <div class="text-3xl font-semibold"><span class="count" data-to="4">0</span> yrs</div>
        <div class="text-sm text-slate-500 mt-1">Research Experience</div>
      </div>
    </div>
  </section>

  <!-- About -->
  <section id="about" class="reveal py-12 bg-indigo-50/60 dark:bg-slate-900/40 border-t border-slate-200/60 dark:border-slate-800">
    <div class="max-w-6xl mx-auto px-4 grid md:grid-cols-3 gap-8">
      <div>
        <h2 class="text-2xl font-semibold tracking-tight">
          <span class="inline-block px-3 py-1 rounded-xl bg-indigo-100 text-indigo-800 dark:bg-indigo-500/20 dark:text-indigo-200">About</span>
        </h2>
      </div>
      <div class="md:col-span-2 text-slate-700 dark:text-slate-300 leading-relaxed">
        <p>With a strong background in machine learning (ML) and signal modeling, my primary research interest lies in applying modern ML techniques to solve real-world problems with measurable impact. I aim to develop intelligent systems that can operate reliably in practical environments. My goal is to design ML solutions that are not only accurate but also efficient, interpretable, and applicable to real-time decision-making scenarios. Recent work spans ML-based behavioral modeling of advanced radio frequency devices, ML-assisted microstrip filter design, and metaheuristic optimization. I emphasize reproducibility, careful validation, and solutions that generalize to changing conditions and noise.</p>
      </div>
    </div>
  </section>

  <!-- Mini ML Playground: Draggable Linear Regression -->
  <section id="playground-regression" class="reveal py-12 bg-gradient-to-br from-fuchsia-50/70 via-white to-sky-50/60 dark:from-slate-900 dark:via-slate-950 dark:to-slate-900 border-t border-slate-200/60 dark:border-slate-800">
    <div class="max-w-6xl mx-auto px-4">
      <h2 class="text-2xl font-semibold tracking-tight">
        <span class="inline-block px-3 py-1 rounded-xl bg-fuchsia-100 text-fuchsia-800 dark:bg-fuchsia-500/20 dark:text-fuchsia-200">Fit a line (drag the points)</span>
      </h2>
      <p class="mt-2 text-slate-600 dark:text-slate-400">Move the points and see the least-squares line update live. This demos how models fit data and how outliers affect slope/intercept and R².</p>

      <div class="mt-4 grid gap-4 md:grid-cols-[minmax(280px,520px),1fr]">
        <canvas id="regCanvas" width="520" height="320" class="w-full rounded-2xl ring-1 ring-slate-200 dark:ring-slate-800 bg-white/80 dark:bg-slate-900/60"></canvas>

        <div class="p-4 rounded-2xl ring-1 ring-slate-200 dark:ring-slate-800 bg-white/80 dark:bg-slate-900/50">
          <div class="grid grid-cols-2 gap-3 text-sm">
            <div><span class="text-slate-500">Slope (m):</span> <span id="slope" class="font-medium">—</span></div>
            <div><span class="text-slate-500">Intercept (b):</span> <span id="intercept" class="font-medium">—</span></div>
            <div><span class="text-slate-500">R²:</span> <span id="r2" class="font-medium">—</span></div>
            <div><span class="text-slate-500">Points:</span> <span id="npoints" class="font-medium">—</span></div>
          </div>
          <div class="mt-4 flex flex-wrap gap-2">
            <button id="resetPts" class="px-3 py-1.5 rounded-xl border border-slate-300/80 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-900">Reset</button>
            <button id="jitterPts" class="px-3 py-1.5 rounded-xl bg-brand-600 text-white hover:bg-brand-700">Jitter</button>
            <button id="addPt" class="px-3 py-1.5 rounded-xl border border-slate-300/80 dark:border-slate-700">Add point</button>
            <span class="text-xs text-slate-500 ml-auto">Tip: drag points; double-tap/click to delete.</span>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Projects -->
  <section id="projects" class="reveal py-12 bg-sky-50/60 dark:bg-slate-900/40 border-t border-slate-200/60 dark:border-slate-800">
    <div class="max-w-6xl mx-auto px-4">
      <div class="flex items-end justify-between gap-4">
        <h2 class="text-2xl font-semibold tracking-tight">
          <span class="inline-block px-3 py-1 rounded-xl bg-sky-100 text-sky-800 dark:bg-sky-500/20 dark:text-sky-200">Selected Projects</span>
        </h2>
        <a href="https://github.com/kashifkhan8145?tab=repositories" target="_blank" rel="noopener" class="text-sm text-brand-600 hover:underline">Browse all repositories →</a>
      </div>

      <div class="mt-6 grid gap-6 md:grid-cols-2">
        <article class="p-5 rounded-2xl ring-1 ring-slate-200 dark:ring-slate-800 bg-white/80 dark:bg-slate-900/50">
          <h3 class="font-semibold">PV MPPT Time-Series Forecasting</h3>
          <p class="mt-1 text-sm text-slate-600 dark:text-slate-400">Compared ML vs conventional control; robustness under noise & distribution shifts; time-series evaluation metrics.</p>
          <div class="mt-3 flex flex-wrap gap-2 text-xs">
            <span class="px-2 py-1 rounded-full bg-slate-100 dark:bg-slate-800">Python</span>
            <span class="px-2 py-1 rounded-full bg-slate-100 dark:bg-slate-800">MLP/XGBoost</span>
            <span class="px-2 py-1 rounded-full bg-slate-100 dark:bg-slate-800">Forecasting</span>
          </div>
        </article>

        <article class="p-5 rounded-2xl ring-1 ring-slate-200 dark:ring-slate-800 bg-white/80 dark:bg-slate-900/50">
          <h3 class="font-semibold">Remaining Useful Life (RUL) — NASA CMAPSS</h3>
          <p class="mt-1 text-sm text-slate-600 dark:text-slate-400">Boosting models for degradation forecasting; ablations, cross-validation, and regime analysis.</p>
          <div class="mt-3 flex flex-wrap gap-2 text-xs">
            <span class="px-2 py-1 rounded-full bg-slate-100 dark:bg-slate-800">Python</span>
            <span class="px-2 py-1 rounded-full bg-slate-100 dark:bg-slate-800">LightGBM/XGBoost</span>
            <span class="px-2 py-1 rounded-full bg-slate-100 dark:bg-slate-800">Time-Series</span>
          </div>
        </article>

        <article class="p-5 rounded-2xl ring-1 ring-slate-200 dark:ring-slate-800 bg-white/80 dark:bg-slate-900/50">
          <h3 class="font-semibold">Physics-Informed ML for GaN HEMTs</h3>
          <p class="mt-1 text-sm text-slate-600 dark:text-slate-400">Embedded device physics into ML; stress-tests across temperature/frequency; Smith chart and residual analysis.</p>
          <div class="mt-3 flex flex-wrap gap-2 text-xs">
            <span class="px-2 py-1 rounded-full bg-slate-100 dark:bg-slate-800">ANN/GPR</span>
            <span class="px-2 py-1 rounded-full bg-slate-100 dark:bg-slate-800">Physics-Informed</span>
            <span class="px-2 py-1 rounded-full bg-slate-100 dark:bg-slate-800">RF</span>
          </div>
        </article>

        <article class="p-5 rounded-2xl ring-1 ring-slate-200 dark:ring-slate-800 bg-white/80 dark:bg-slate-900/50">
          <h3 class="font-semibold">ML-Assisted Filter Design</h3>
          <p class="mt-1 text-sm text-slate-600 dark:text-slate-400">EM-to-fabrication pipeline (ADS + ML + optimization) validated with VNA measurements; design-time reduction.</p>
          <div class="mt-3 flex flex-wrap gap-2 text-xs">
            <span class="px-2 py-1 rounded-full bg-slate-100 dark:bg-slate-800">ADS</span>
            <span class="px-2 py-1 rounded-full bg-slate-100 dark:bg-slate-800">Evolutionary Opt.</span>
            <span class="px-2 py-1 rounded-full bg-slate-100 dark:bg-slate-800">Fabrication</span>
          </div>
        </article>
      </div>
    </div>
  </section>

  <!-- Publications -->
  <section id="publications" class="reveal py-16 border-t border-slate-200/60 dark:border-slate-800">
    <div class="max-w-6xl mx-auto px-4">
      <div class="flex items-end justify-between gap-4">
        <h2 class="text-2xl font-semibold tracking-tight">
          <span class="inline-block px-3 py-1 rounded-xl bg-fuchsia-100 text-fuchsia-800 dark:bg-fuchsia-500/20 dark:text-fuchsia-200">Publications</span>
        </h2>
        <input id="pubFilter" type="search" placeholder="Filter by keyword..." class="w-56 rounded-xl border border-slate-300/80 dark:border-slate-700 bg-white/70 dark:bg-slate-900/70 px-3 py-2 text-sm" />
      </div>
      <div id="pubList" class="mt-6 space-y-6">
        <div class="pub">
          <p class="text-sm text-brand-600 dark:text-brand-400">Journal Article (Accepted)</p>
          <h3 class="font-medium text-lg mt-1">GWO-ANN Based Approach for High-Frequency Microstrip Filter Design and Optimization</h3>
          <p class="text-slate-600 dark:text-slate-400"><strong>K. Khan</strong>, S. Husain, M. Hashmi. <em>Procedia Computer Science</em> (Elsevier, Scopus Indexed).</p>
        </div>
        <div class="pub">
          <p class="text-sm text-brand-600 dark:text-brand-400">Journal Article (Under Review)</p>
          <h3 class="font-medium text-lg mt-1">Hybrid Approach for Performance Optimization of Gallium Nitride High Electron Mobility Transistors Small-Signal Behavioral Models</h3>
          <p class="text-slate-600 dark:text-slate-400"><strong>K. Khan</strong>, S. Husain, A. Jarndal, M. Hashmi. <em>International Journal of Numerical Modelling</em> (Wiley, SCIE Indexed).</p>
        </div>
        <div class="pub">
          <p class="text-sm text-brand-600 dark:text-brand-400">Conference Paper</p>
          <h3 class="font-medium text-lg mt-1">Development and Assessment of ML Based GaN HEMTs Small-Signal Modelling Techniques</h3>
          <p class="text-slate-600 dark:text-slate-400"><strong>K. Khan</strong>, S. Husain, A. Jarndal, M. Hashmi. <em>IEEE ICM</em>, Doha, Qatar, Dec. 2024.</p>
        </div>
        <div class="pub">
          <p class="text-sm text-brand-600 dark:text-brand-400">Conference Paper</p>
          <h3 class="font-medium text-lg mt-1">Development and Evaluation of ANN, RBNNs, and GRNNs Based Small-Signal Behavioral Models for GaN HEMT Up to 40 GHz</h3>
          <p class="text-slate-600 dark:text-slate-400"><strong>K. Khan</strong>, S. Husain, G. Nauryzbayev, M. Hashmi. <em>IEEE MWSCAS</em>, Springfield, USA, Aug. 2024.</p>
        </div>
        <div class="pub">
          <p class="text-sm text-brand-600 dark:text-brand-400">Conference Paper</p>
          <h3 class="font-medium text-lg mt-1">On Temperature-Dependent Small-Signal Behavioral Modelling of GaN HEMT Using GWO-PSO and WOA</h3>
          <p class="text-slate-600 dark:text-slate-400"><strong>K. Khan</strong>, S. Husain, G. Nauryzbayev, M. Hashmi. <em>IEEE ISNCC</em>, Doha, Qatar, Oct. 2023.</p>
        </div>
      </div>
      <p class="mt-6"><a href="https://scholar.google.com/citations?user=e0CeRSUAAAAJ" target="_blank" class="inline-block text-brand-600 hover:underline">Full publications list on Google Scholar →</a></p>
    </div>
  </section>

  <!-- Experience -->
  <section id="experience" class="reveal py-12 bg-slate-50 dark:bg-slate-900/30 border-t border-slate-200/60 dark:border-slate-800">
    <div class="max-w-6xl mx-auto px-4">
      <h2 class="text-2xl font-semibold tracking-tight mb-6">
        <span class="inline-block px-3 py-1 rounded-xl bg-slate-200 text-slate-800 dark:bg-slate-600/30 dark:text-slate-200">Experience</span>
      </h2>
      <div class="grid gap-6 md:grid-cols-2">
        <article class="p-5 rounded-2xl ring-1 ring-slate-200 dark:ring-slate-800 bg-white/80 dark:bg-slate-900/50">
          <div class="flex items-center justify-between">
            <h3 class="font-semibold">Research Assistant — Nazarbayev University (RF Research Team)</h3>
            <span class="text-sm text-slate-500">Nov 2021 – Present</span>
          </div>
          <ul class="mt-2 list-disc pl-5 space-y-1 text-slate-700 dark:text-slate-300">
            <li>High-frequency microstrip filter design (ADS) accelerated with ML & evolutionary optimization.</li>
            <li>Behavioral modelling of GaN HEMTs (ANN, RBNN, GRNN, XGBoost, GPR) up to 120 GHz.</li>
            <li>Fabrication & measurement for real-world validation; emphasis on reproducibility.</li>
            <li>Co-authored multiple IEEE publications; contributed to multi-institutional projects.</li>
          </ul>
        </article>
        <article class="p-5 rounded-2xl ring-1 ring-slate-200 dark:ring-slate-800 bg-white/80 dark:bg-slate-900/50">
          <div class="flex items-center justify-between">
            <h3 class="font-semibold">Instructor — Invest In Kids, Astana</h3>
            <span class="text-sm text-slate-500">Feb 2023 – Present</span>
          </div>
          <ul class="mt-2 list-disc pl-5 space-y-1 text-slate-700 dark:text-slate-300">
            <li>Designed & delivered Python/ML curricula; mentored project-based learning.</li>
            <li>Built interactive teaching materials; simplified complex topics for beginners.</li>
            <li>Encouraged collaboration through coding challenges and group projects.</li>
          </ul>
        </article>
        <article class="md:col-span-2 p-5 rounded-2xl ring-1 ring-slate-200 dark:ring-slate-800 bg-white/80 dark:bg-slate-900/50">
          <div class="flex items-center justify-between">
            <h3 class="font-semibold">PASBAN Human Rights, Protection & Welfare Organization — General Secretary</h3>
            <span class="text-sm text-slate-500">2016 – 2021</span>
          </div>
          <ul class="mt-2 list-disc pl-5 space-y-1 text-slate-700 dark:text-slate-300">
            <li>Coordinated meetings and operations; ensured compliance and stakeholder communication.</li>
            <li>Maintained records and administrative workflows improving organizational efficiency.</li>
          </ul>
        </article>
      </div>
    </div>
  </section>

  <!-- Education -->
  <section id="education" class="reveal py-12 bg-cyan-50/60 dark:bg-slate-900/40 border-t border-slate-200/60 dark:border-slate-800">
    <div class="max-w-6xl mx-auto px-4">
      <h2 class="text-2xl font-semibold tracking-tight mb-6">
        <span class="inline-block px-3 py-1 rounded-xl bg-cyan-100 text-cyan-800 dark:bg-cyan-500/20 dark:text-cyan-200">Education</span>
      </h2>
      <div class="grid gap-6 md:grid-cols-2">
        <div class="p-5 rounded-2xl ring-1 ring-slate-200 dark:ring-slate-800 bg-white/80 dark:bg-slate-900/50">
          <h3 class="font-semibold">MSc, Electrical & Computer Engineering</h3>
          <p class="text-sm text-slate-500">Nazarbayev University, Astana — Aug 2021 – Jun 2023</p>
          <ul class="mt-2 list-disc pl-5 text-slate-700 dark:text-slate-300">
            <li>Thesis: Development of ML-Based Modelling Techniques for Advanced RF Devices.</li>
            <li>CGPA: 3.21 / 4.0.</li>
          </ul>
        </div>
        <div class="p-5 rounded-2xl ring-1 ring-slate-200 dark:ring-slate-800 bg-white/80 dark:bg-slate-900/50">
          <h3 class="font-semibold">BSc, Electrical Engineering</h3>
          <p class="text-sm text-slate-500">UET Peshawar — Aug 2015 – Aug 2019</p>
          <ul class="mt-2 list-disc pl-5 text-slate-700 dark:text-slate-300">
            <li>Thesis: Road Power Generation using Freewheel Mechanism.</li>
            <li>CGPA: 3.36 / 4.0.</li>
          </ul>
        </div>
      </div>
    </div>
  </section>

  <!-- Skills -->
  <section id="skills" class="reveal py-12 bg-violet-50/60 dark:bg-slate-900/40 border-t border-slate-200/60 dark:border-slate-800">
    <div class="max-w-6xl mx-auto px-4">
      <h2 class="text-2xl font-semibold tracking-tight mb-6">
        <span class="inline-block px-3 py-1 rounded-xl bg-violet-100 text-violet-800 dark:bg-violet-500/20 dark:text-violet-200">Technical Strengths</span>
      </h2>
      <div class="grid gap-6 md:grid-cols-3">
        <div class="p-5 rounded-2xl ring-1 ring-slate-200 dark:ring-slate-800 bg-white/80 dark:bg-slate-900/50">
          <h3 class="font-semibold">Programming</h3>
          <p class="text-slate-700 dark:text-slate-300 mt-2">C, C++, Python (scikit-learn, TensorFlow/Keras, Matplotlib, Pandas, NumPy)</p>
        </div>
        <div class="p-5 rounded-2xl ring-1 ring-slate-200 dark:ring-slate-800 bg-white/80 dark:bg-slate-900/50">
          <h3 class="font-semibold">Simulation & Modelling</h3>
          <p class="text-slate-700 dark:text-slate-300 mt-2">MATLAB/Python (system-level), ADS (EM/circuit), Mathematica, Anaconda (Spyder, Jupyter)</p>
        </div>
        <div class="p-5 rounded-2xl ring-1 ring-slate-200 dark:ring-slate-800 bg-white/80 dark:bg-slate-900/50">
          <h3 class="font-semibold">ML & Optimization</h3>
          <p class="text-slate-700 dark:text-slate-300 mt-2">ANN, RBNN, GRNN, GPR, GBM/LightGBM/XGBoost; GWO, BHO, RSA, SHO, ALO, WOA</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Awards -->
  <section id="awards" class="reveal py-12 bg-amber-50/60 dark:bg-slate-900/40 border-t border-slate-200/60 dark:border-slate-800">
    <div class="max-w-6xl mx-auto px-4">
      <h2 class="text-2xl font-semibold tracking-tight mb-6">
        <span class="inline-block px-3 py-1 rounded-xl bg-amber-100 text-amber-800 dark:bg-amber-500/20 dark:text-amber-200">Awards &amp; Achievements</span>
      </h2>
      <ul class="space-y-2 list-disc pl-5 text-slate-700 dark:text-slate-300">
        <li>Best Paper Award — ISNCC, Doha (2023).</li>
        <li>Best Paper Award — IMPACT, India (2022).</li>
        <li>Fully Funded Scholarship — Abay Kunanbayev (MSc, Nazarbayev University).</li>
        <li>Fully Funded Scholarship — Diya Pakistan (BSc, UET Peshawar).</li>
        <li>Prime Minister’s Laptop Award — Academic excellence (BSc).</li>
        <li>Goodwill Scholarship — Peshawar Model Degree College.</li>
      </ul>
    </div>
  </section>

  <!-- Courses -->
  <section id="courses" class="reveal py-12 bg-emerald-50/60 dark:bg-slate-900/40 border-t border-slate-200/60 dark:border-slate-800">
    <div class="max-w-6xl mx-auto px-4">
      <h2 class="text-2xl font-semibold tracking-tight mb-6">
        <span class="inline-block px-3 py-1 rounded-xl bg-emerald-100 text-emerald-800 dark:bg-emerald-500/20 dark:text-emerald-200">Online Courses</span>
      </h2>
      <ul class="grid gap-4 sm:grid-cols-2 lg:grid-cols-3 text-slate-700 dark:text-slate-300">
        <li class="p-4 rounded-2xl ring-1 ring-slate-200 dark:ring-slate-800 bg-white/80 dark:bg-slate-900/50"><span class="font-medium">IBM — Data Science Tools</span> (Certificate: DS0105EN)</li>
        <li class="p-4 rounded-2xl ring-1 ring-slate-200 dark:ring-slate-800 bg-white/80 dark:bg-slate-900/50"><span class="font-medium">IBM — Deep Learning Fundamentals with Keras</span> (DL0101EN)</li>
        <li class="p-4 rounded-2xl ring-1 ring-slate-200 dark:ring-slate-800 bg-white/80 dark:bg-slate-900/50"><span class="font-medium">Simplilearn — Data Science with Python</span> (4405431)</li>
      </ul>
    </div>
  </section>

  <!-- Languages -->
  <section id="languages" class="reveal py-12 bg-rose-50/60 dark:bg-slate-900/40 border-t border-slate-200/60 dark:border-slate-800">
    <div class="max-w-6xl mx-auto px-4">
      <h2 class="text-2xl font-semibold tracking-tight mb-6">
        <span class="inline-block px-3 py-1 rounded-xl bg-rose-100 text-rose-800 dark:bg-rose-500/20 dark:text-rose-200">Languages</span>
      </h2>
      <ul class="list-disc pl-5 text-slate-700 dark:text-slate-300">
        <li>English — IELTS 7.0 (CEFR C1), proficient in academic & research communication.</li>
        <li>Pashto — maternal; Urdu — proficient.</li>
      </ul>
    </div>
  </section>

  <!-- Certificates -->
  <section id="certs" class="reveal py-12 bg-white dark:bg-slate-950 border-t border-slate-200/60 dark:border-slate-800">
    <div class="max-w-6xl mx-auto px-4">
      <div class="flex items-end justify-between">
        <h2 class="text-2xl font-semibold tracking-tight">
          <span class="inline-block px-3 py-1 rounded-xl bg-pink-100 text-pink-800 dark:bg-pink-500/20 dark:text-pink-200">Certificates &amp; Documents</span>
        </h2>
        <a href="https://github.com/kashifkhan8145/kashifkhan8145.github.io/tree/main/certificates" target="_blank" rel="noopener" class="text-sm text-brand-600 hover:underline">Open folder →</a>
      </div>
      <div class="mt-6 grid gap-4 sm:grid-cols-2 lg:grid-cols-3">
        <a href="/certificates/IBM_Data_Science_Tools.pdf" class="group p-4 rounded-2xl ring-1 ring-slate-200 dark:ring-slate-800 bg-white/80 dark:bg-slate-900/50 hover:shadow-glow transition">
          <h3 class="font-semibold group-hover:text-brand-600">IBM — Data Science Tools</h3>
          <p class="text-sm text-slate-500 mt-1">Certificate (DS0105EN)</p>
        </a>
        <a href="/certificates/IBM_DL_with_Keras.pdf" class="group p-4 rounded-2xl ring-1 ring-slate-200 dark:ring-slate-800 bg-white/80 dark:bg-slate-900/50 hover:shadow-glow transition">
          <h3 class="font-semibold group-hover:text-brand-600">IBM — Deep Learning with Keras</h3>
          <p class="text-sm text-slate-500 mt-1">Certificate (DL0101EN)</p>
        </a>
        <a href="/certificates/Simplilearn_Data_Science_with_Python.pdf" class="group p-4 rounded-2xl ring-1 ring-slate-200 dark:ring-slate-800 bg-white/80 dark:bg-slate-900/50 hover:shadow-glow transition">
          <h3 class="font-semibold group-hover:text-brand-600">Simplilearn — Data Science with Python</h3>
          <p class="text-sm text-slate-500 mt-1">Certificate (4405431)</p>
        </a>
      </div>
      <p class="text-sm text-slate-500 mt-3">Tip: Create a <code>/certificates</code> folder and upload PDFs/images; update the links above to match filenames.</p>
    </div>
  </section>

  <!-- Contact -->
  <section id="contact" class="reveal py-12 bg-slate-50 dark:bg-slate-900/30 border-t border-slate-200/60 dark:border-slate-800">
    <div class="max-w-6xl mx-auto px-4 grid md:grid-cols-3 gap-8 items-start">
      <div>
        <h2 class="text-2xl font-semibold tracking-tight">
          <span class="inline-block px-3 py-1 rounded-xl bg-slate-200 text-slate-800 dark:bg-slate-600/30 dark:text-slate-200">Contact</span>
        </h2>
        <p class="text-sm text-slate-500 mt-1">I am actively looking for a PhD position focused on the application of ML.</p>
      </div>
      <div class="md:col-span-2">
        <div class="p-5 rounded-2xl ring-1 ring-slate-200 dark:ring-slate-800 bg-white/80 dark:bg-slate-900/50">
          <p>Email: <a href="mailto:kashif.khan@nu.edu.kz" class="text-brand-600 hover:underline">kashif.khan@nu.edu.kz</a></p>
          <p>Scholar: <a href="https://scholar.google.com/citations?user=e0CeRSUAAAAJ" target="_blank" rel="noopener" class="text-brand-600 hover:underline">Google Scholar</a></p>
          <p>LinkedIn: <a href="https://www.linkedin.com/in/kashifkhan8145" target="_blank" rel="noopener" class="text-brand-600 hover:underline">linkedin.com/in/kashifkhan8145</a></p>
          <p>GitHub: <a href="https://github.com/kashifkhan8145" target="_blank" rel="noopener" class="text-brand-600 hover:underline">github.com/kashifkhan8145</a></p>
        </div>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="py-10 border-t border-slate-200/60 dark:border-slate-800 bg-white/60 dark:bg-slate-900/40">
    <div class="max-w-6xl mx-auto px-4 flex flex-col sm:flex-row items-center justify-between gap-4 text-sm text-slate-500">
      <p>© <span id="year"></span> Kashif Khan</p>
      <div class="flex items-center gap-4">
        <a href="/Kashif_Khan_CV.pdf" class="hover:text-brand-600">CV</a>
        <a href="https://github.com/kashifkhan8145/kashifkhan8145.github.io" target="_blank" rel="noopener" class="hover:text-brand-600">Source</a>
      </div>
    </div>
  </footer>

  <!-- Scripts -->
  <script>
  // DOM ready
  document.addEventListener('DOMContentLoaded', () => {
    // Year
    document.getElementById('year').textContent = new Date().getFullYear();

    // Mobile nav
    const menuBtn = document.getElementById('menuBtn');
    const mobileNav = document.getElementById('mobileNav');
    if (menuBtn && mobileNav) {
      menuBtn.addEventListener('click', () => mobileNav.classList.toggle('hidden'));
      mobileNav.querySelectorAll('a').forEach(a => a.addEventListener('click', () => mobileNav.classList.add('hidden')));
    }

    // Dark mode toggle (persistent)
    const root = document.documentElement;
    const themeToggle = document.getElementById('themeToggle');
    const sun = document.getElementById('sun');
    const moon = document.getElementById('moon');
    function setTheme(dark) {
      if (dark) { root.classList.add('dark'); sun.classList.remove('hidden'); moon.classList.add('hidden'); }
      else { root.classList.remove('dark'); sun.classList.add('hidden'); moon.classList.remove('hidden'); }
    }
    const stored = localStorage.getItem('theme');
    const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
    setTheme(stored ? stored === 'dark' : prefersDark);
    themeToggle.addEventListener('click', () => {
      const isDark = root.classList.contains('dark');
      setTheme(!isDark);
      localStorage.setItem('theme', !isDark ? 'dark' : 'light');
    });

    // Reveal on scroll
    const rev = document.querySelectorAll('.reveal');
    const io = new IntersectionObserver((entries)=>{
      entries.forEach(e=>{ if(e.isIntersecting){ e.target.classList.add('show'); io.unobserve(e.target); }});
    },{threshold:0.15});
    rev.forEach(el=>io.observe(el));

    // Publications filter
    const filter = document.getElementById('pubFilter');
    const items = Array.from(document.querySelectorAll('#pubList .pub'));
    if (filter) {
      filter.addEventListener('input', e => {
        const q = e.target.value.toLowerCase();
        items.forEach(li => { li.style.display = li.textContent.toLowerCase().includes(q) ? '' : 'none'; });
      });
    }
  });

  // ===== Constellation / Starfield in hero =====
  (function(){
    const canvas = document.getElementById('constellation');
    if (!canvas) return;
    const ctx = canvas.getContext('2d', { alpha: true });
    let W, H, stars=[], pointer={x:null,y:null}, dark = document.documentElement.classList.contains('dark');

    const cfg = { density: 0.00018, maxSpeed: 0.12, linkDist: 110, linkAlpha: 0.25, sizeMin: 0.6, sizeMax: 1.8 };

    function resize() {
      const rect = canvas.getBoundingClientRect();
      W = canvas.width  = Math.floor(rect.width  * devicePixelRatio);
      H = canvas.height = Math.floor(rect.height * devicePixelRatio);
      canvas.style.width  = rect.width + 'px';
      canvas.style.height = rect.height + 'px';
      makeStars();
    }
    function makeStars() {
      const n = Math.floor(W * H * cfg.density / (devicePixelRatio*devicePixelRatio));
      stars = Array.from({length:n}, () => {
        const s = cfg.sizeMin + Math.random()*(cfg.sizeMax-cfg.sizeMin);
        return {
          x: Math.random()*W, y: Math.random()*H,
          vx: (Math.random()-0.5)*cfg.maxSpeed*devicePixelRatio,
          vy: (Math.random()-0.5)*cfg.maxSpeed*devicePixelRatio,
          r: s*devicePixelRatio, tw: Math.random()*Math.PI*2
        };
      });
    }
    function step() {
      ctx.clearRect(0,0,W,H);
      const starLight = dark ? 'rgba(255,255,255,0.9)' : 'rgba(30,41,59,0.9)';
      const lineRGB   = dark ? [255,255,255] : [59,130,246];

      for (const s of stars) {
        s.x += s.vx; s.y += s.vy;
        if (s.x < 0) s.x += W; else if (s.x > W) s.x -= W;
        if (s.y < 0) s.y += H; else if (s.y > H) s.y -= H;
        s.tw += 0.03;
        const a = 0.6 + 0.4*Math.sin(s.tw);
        ctx.beginPath(); ctx.arc(s.x, s.y, s.r, 0, Math.PI*2);
        ctx.fillStyle = starLight.replace('0.9', a.toFixed(2)); ctx.fill();
      }

      ctx.lineWidth = 1 * devicePixelRatio;
      for (let i=0;i<stars.length;i++){
        for (let j=i+1;j<stars.length;j++){
          const dx = stars[i].x - stars[j].x, dy = stars[i].y - stars[j].y;
          const d2 = dx*dx + dy*dy, L2 = (cfg.linkDist*devicePixelRatio)**2;
          if (d2 < L2) {
            const a = cfg.linkAlpha * (1 - d2 / L2);
            ctx.strokeStyle = `rgba(${lineRGB[0]},${lineRGB[1]||lineRGB[0]},${lineRGB[2]||lineRGB[0]},${a})`;
            ctx.beginPath(); ctx.moveTo(stars[i].x,stars[i].y); ctx.lineTo(stars[j].x,stars[j].y); ctx.stroke();
          }
        }
        if (pointer.x!=null){
          const dx = stars[i].x - pointer.x, dy = stars[i].y - pointer.y;
          const d2 = dx*dx + dy*dy, L2 = (cfg.linkDist*1.3*devicePixelRatio)**2;
          if (d2 < L2) {
            const a = cfg.linkAlpha*1.2 * (1 - d2 / L2);
            ctx.strokeStyle = `rgba(${lineRGB[0]},${lineRGB[1]||lineRGB[0]},${lineRGB[2]||lineRGB[0]},${a})`;
            ctx.beginPath(); ctx.moveTo(stars[i].x,stars[i].y); ctx.lineTo(pointer.x,pointer.y); ctx.stroke();
          }
        }
      }
      requestAnimationFrame(step);
    }
    function setPointer(e){
      const rect = canvas.getBoundingClientRect();
      const x = (e.touches?e.touches[0].clientX:e.clientX) - rect.left;
      const y = (e.touches?e.touches[0].clientY:e.clientY) - rect.top;
      pointer.x = x*devicePixelRatio; pointer.y = y*devicePixelRatio;
    }
    canvas.parentElement.addEventListener('mousemove', setPointer);
    canvas.parentElement.addEventListener('mouseleave', ()=>{ pointer.x=null; pointer.y=null; });
    canvas.parentElement.addEventListener('touchmove', setPointer, {passive:true});
    canvas.parentElement.addEventListener('touchend', ()=>{ pointer.x=null; pointer.y=null; });

    const mo = new MutationObserver(()=>{ dark = document.documentElement.classList.contains('dark'); });
    mo.observe(document.documentElement, {attributes:true, attributeFilter:['class']});
    new ResizeObserver(resize).observe(canvas);
    resize(); requestAnimationFrame(step);
  })();

  // ===== Animated counters =====
  (function(){
    const container = document.getElementById('stats');
    if (!container) return;
    const ease = t => 1 - Math.pow(1-t, 3); // easeOutCubic
    function animate(el){
      const target = parseFloat(el.dataset.to || '0');
      const start = performance.now(), dur = 1200 + Math.random()*400;
      function tick(now){
        const p = Math.min(1, (now - start) / dur);
        const v = Math.floor(ease(p) * target);
        el.textContent = v.toLocaleString();
        if (p < 1) requestAnimationFrame(tick);
      }
      requestAnimationFrame(tick);
    }
    const io = new IntersectionObserver((entries,obs)=>{
      entries.forEach(e=>{
        if (e.isIntersecting){
          e.target.querySelectorAll('.count').forEach(animate);
          obs.unobserve(e.target);
        }
      });
    }, {threshold:0.35});
    io.observe(container);
  })();

  // ===== Draggable linear regression (fixed) =====
  (function(){
    const canvas = document.getElementById('regCanvas');
    if (!canvas) return;
    const ctx = canvas.getContext('2d');
    const W = canvas.width, H = canvas.height;
    const P = []; // {x,y}
    function clamp(v, a, b){ return Math.max(a, Math.min(b, v)); }
    function seed(){
      P.length = 0;
      for (let i = 0; i < 8; i++) {
        const x = 40 + i * ((W - 80) / 7);
        let y = H * 0.6 - 0.5 * x + 80 * (Math.random() - 0.5);
        y = clamp(y, 24, H - 28);
        P.push({ x, y });
      }
    }
    seed();
    function fit(){
      const n = P.length; if (!n) return { m:0, b:0, r2:0 };
      const xs = P.map(p=>p.x), ys=P.map(p=>p.y);
      const mean = a => a.reduce((s,v)=>s+v,0)/a.length;
      const mx=mean(xs), my=mean(ys);
      let num=0, den=0; for(let i=0;i<n;i++){ num+=(xs[i]-mx)*(ys[i]-my); den+=(xs[i]-mx)*(xs[i]-mx); }
      const m = den ? num/den : 0; const b = my - m*mx;
      let ssRes=0, ssTot=0; for(let i=0;i<n;i++){ const yhat=m*xs[i]+b; ssRes+=(ys[i]-yhat)**2; ssTot+=(ys[i]-my)**2; }
      const r2 = ssTot ? 1 - ssRes/ssTot : 0; return {m,b,r2};
    }
    function draw(){
      ctx.clearRect(0,0,W,H);
      const isDark = document.documentElement.classList.contains('dark');
      ctx.strokeStyle = isDark ? '#475569' : '#cbd5e1';
      ctx.lineWidth = 1;
      ctx.beginPath(); ctx.moveTo(32,H-24); ctx.lineTo(W-12,H-24); ctx.moveTo(32,12); ctx.lineTo(32,H-24); ctx.stroke();
      const {m,b,r2}=fit(); const x1=32,x2=W-12,y1=m*x1+b,y2=m*x2+b;
      ctx.strokeStyle = '#06b6d4'; ctx.lineWidth = 2; ctx.beginPath(); ctx.moveTo(x1,y1); ctx.lineTo(x2,y2); ctx.stroke();
      for(const p of P){ ctx.fillStyle='#3b82f6'; ctx.beginPath(); ctx.arc(p.x,p.y,6,0,Math.PI*2); ctx.fill(); ctx.strokeStyle='#ffffff'; ctx.lineWidth=2; ctx.stroke(); }
      const s=v=>(v||0).toFixed(3);
      document.getElementById('slope').textContent=s(m);
      document.getElementById('intercept').textContent=(b||0).toFixed(1);
      document.getElementById('r2').textContent=s(r2);
      document.getElementById('npoints').textContent=P.length;
    }
    let drag=null;
    function pick(x,y){ for(const p of P){ const dx=p.x-x,dy=p.y-y; if(dx*dx+dy*dy<=100) return p } return null }
    function toLocal(e){
      const r=canvas.getBoundingClientRect();
      const cx=(e.touches?e.touches[0].clientX:e.clientX)-r.left;
      const cy=(e.touches?e.touches[0].clientY:e.clientY)-r.top;
      return { x: clamp(cx,32,W-12), y: clamp(cy,12,H-24) };
    }
    canvas.addEventListener('mousedown', e=>{ const {x,y}=toLocal(e); drag=pick(x,y); });
    canvas.addEventListener('mousemove', e=>{ if(!drag) return; const {x,y}=toLocal(e); drag.x=x; drag.y=y; draw(); });
    window.addEventListener('mouseup', ()=>{ drag=null; });
    canvas.addEventListener('touchstart', e=>{ const {x,y}=toLocal(e); drag=pick(x,y); });
    canvas.addEventListener('touchmove', e=>{ if(!drag) return; const {x,y}=toLocal(e); drag.x=x; drag.y=y; draw(); }, {passive:true});
    window.addEventListener('touchend', ()=>{ drag=null; });
    canvas.addEventListener('dblclick', e=>{ const {x,y}=toLocal(e); const p=pick(x,y); if(p){ P.splice(P.indexOf(p),1); draw(); } });
    document.getElementById('resetPts')?.addEventListener('click', ()=>{ seed(); draw(); });
    document.getElementById('jitterPts')?.addEventListener('click', ()=>{ P.forEach(p=>{ p.y = clamp(p.y + (Math.random()-0.5)*30, 24, H-28); }); draw(); });
    document.getElementById('addPt')?.addEventListener('click', ()=>{ P.push({ x: 40+Math.random()*(W-80), y: 40+Math.random()*(H-80) }); draw(); });
    draw();
    // re-draw when theme toggles
    const mo = new MutationObserver(draw);
    mo.observe(document.documentElement, {attributes:true, attributeFilter:['class']});
  })();
  </script>
</body>
</html>
